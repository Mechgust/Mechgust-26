import{r as o,j as t,_ as S}from"./index-DItd7EmI.js";function R({className:m="spline"}){const r=o.useRef(null),d=o.useRef(null),h=o.useRef(null),[u,p]=o.useState(!0),[x,f]=o.useState(0);return o.useEffect(()=>{const n=setInterval(()=>{f(e=>e>=90?(clearInterval(n),e):e+Math.random()*15)},500),a=setTimeout(async()=>{try{if(!window.Spline){const c=await S(()=>import("https://unpkg.com/@splinetool/runtime@1.12.29/build/runtime.js"),[]);window.Spline=c,h.current=c}if(!r.current)return;const{Application:e}=window.Spline,s=r.current.querySelector("canvas");if(!s){console.error("Canvas element not found in container");return}const l=new e(s);await l.load("https://prod.spline.design/rNxf6T0SBLTAKJDp/scene.splinecode"),d.current=l,f(100),setTimeout(()=>{p(!1)},300),r.current.dispatchEvent(new Event("w-spline-load")),r.current.classList.add("spline-loaded")}catch(e){console.error("Spline initialization failed:",e),p(!1),clearInterval(n)}},100);return()=>{var e;if(clearTimeout(a),clearInterval(n),(e=d.current)!=null&&e.dispose)try{d.current.dispose()}catch(s){console.warn("Error disposing Spline app:",s)}}},[]),o.useEffect(()=>{var a;const n=e=>{if(!r.current)return;const s=r.current.getBoundingClientRect(),l=s.left+s.width/2,c=s.top+s.height/2,v=e.clientX-l,g=e.clientY-c,y=v/(s.width/2),w=g/(s.height/2)*10,j=y*10;r.current.style.transform=`
        perspective(1200px) 
        rotateX(${w}deg) 
        rotateY(${j}deg) 
        scale(1.0)
      `,r.current.style.transition="transform 0.1s ease-out"},i=()=>{r.current&&(r.current.style.transform=`
          perspective(1200px) 
          rotateX(0deg) 
          rotateY(0deg) 
          scale(1.0)
        `,r.current.style.transition="transform 0.6s cubic-bezier(0.23, 1, 0.320, 1)")};return document.addEventListener("mousemove",n),(a=r.current)==null||a.addEventListener("mouseleave",i),()=>{var e;document.removeEventListener("mousemove",n),(e=r.current)==null||e.removeEventListener("mouseleave",i)}},[]),t.jsxs("div",{ref:r,className:m,"data-animation-type":"spline","data-spline-url":"https://prod.spline.design/rNxf6T0SBLTAKJDp/scene.splinecode",style:{width:"100%",height:"100%",position:"relative",transformStyle:"preserve-3d",transition:"transform 0.1s ease-out"},onMouseEnter:n=>{n.currentTarget.style.cursor="grab"},onMouseLeave:n=>{n.currentTarget.style.cursor="default"},children:[u&&t.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",zIndex:10},children:[t.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 512 512",style:{animation:"loaderSpin 2s linear infinite"},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"loaderGear",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",style:{stopColor:"#667eea"}}),t.jsx("stop",{offset:"100%",style:{stopColor:"#764ba2"}})]})}),t.jsx("circle",{cx:"256",cy:"256",r:"140",fill:"none",stroke:"url(#loaderGear)",strokeWidth:"40"}),[0,45,90,135,180,225,270,315].map((n,i)=>t.jsx("rect",{x:"246",y:"80",width:"20",height:"40",fill:"url(#loaderGear)",transform:`rotate(${n} 256 256)`,rx:"4"},i)),t.jsx("circle",{cx:"256",cy:"256",r:"60",fill:"#1a1a2e"}),t.jsx("circle",{cx:"256",cy:"256",r:"10",fill:"#667eea"})]}),t.jsx("div",{style:{width:"120px",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${x}%`,height:"100%",background:"linear-gradient(90deg, #667eea, #764ba2)",borderRadius:"2px",transition:"width 0.3s ease"}})}),t.jsx("div",{style:{color:"#666",fontSize:"12px",fontFamily:"system-ui"},children:"Loading 3D Scene..."}),t.jsx("style",{children:`
            @keyframes loaderSpin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `})]}),t.jsx("canvas",{style:{display:"block",width:"100%",height:"100%",opacity:u?0:1,transition:"opacity 0.5s ease-out"}})]})}export{R as default};
